var raygun=function(){"use strict";var t=function(){return Math.floor(Date.now()/1e3)},e=function(){var e=[];return{add:function(n){var o={innerText:n.target.innerText||"",timestamp:t(),element:n.target.tagName.toLowerCase(),elementId:n.target.id||"",location:window.location.pathname||""};e.push(o),e.length>25&&e.shift()},get:function(){return e}}}();function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,r=(o={},{set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==n(t)||t.constructor!==Object)throw new Error("Provided config is an invalid object");if(!t.ticket||"string"!=typeof t.ticket||50!==t.ticket.length)throw new Error("Invalid Raygun ticket");o=t},get:function(){return o},serveTest:function(t,e){var n=new XMLHttpRequest;t.log=t.logs[t.logs.length-1].log,console.log("From django,",t.log);try{n.open("POST","http://localhost:8000/api/logging/error","error"===e),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t))}catch(t){console.error(t)}}}),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=new XMLHttpRequest,o=r.get().instance,i="/logging/"+e;n.open("POST",o+i,"error"===e),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t)),n.onreadystatechange=function(){4===this.readyState&&200!==this.status&&console.error("failed to send event with error:",this.statusText)},r.serveTest(t,e)},a=function(){var e=[];return{add:function(n){"string"==typeof n&&(n.length>=1e3&&(n=n.slice(0,990)+"..."),e.push({timestamp:t(),type:"log",log:n}),e.length>15&&e.shift())},get:function(){return e}}}(),s=function(n){var o=n.message,s=n.stack,c=r.get();if(o&&s&&c.ticket){var l={ticket:c.ticket,message:o,logs:a.get(),type:"error",userInteractions:e.get(),stacktrace:s,timestamp:t()};i(l)}},c=function(){window.addEventListener("error",(function(t){var e=t.message,n=t.error,o={message:e,stack:n.stack,constructor:n.constructor};s(o)}))},l=function(){var t=["button","details","input","iframe","select","textarea"];window.addEventListener("focusin",(function(n){var o=n.target.tagName.toLowerCase();t.includes(o)&&e.add(n)})),document.addEventListener("click",(function(n){var o=n.target.tagName.toLowerCase();t.includes(o)||e.add(n)}))},u=function(){var t=console.log.bind(console);console.log=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];a.add(n.join(" ")),t.apply(void 0,n)};var e=console.info.bind(console);console.info=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a.add(n.join(" ")),e.apply(void 0,n)};var n=console.error.bind(console);console.error=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];a.add(e.join(" ")),n.apply(void 0,e)}};return{init:function(t){r.set(t),u(),l(),c()}}}();
